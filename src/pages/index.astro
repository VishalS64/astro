---
import BaseLayout from "../layouts/BaseLayout.astro";
import CasinoCard from "../components/CasinoCard.astro";
import ContentPanel from "../components/ContentPanel.astro";

/** Ratings are entered on a 0–5 scale; convert to 0–10 for <CasinoCard>. */
const casinosRaw = [
	{
		name: "BoyleSports",
		logo: "/888-casino.png",
		offer:
			"Certificação SRIJ para máxima confiança\n" +
			"Transações blindadas com encriptação avançada\n" +
			"Assistência especializada sempre disponível",
		rating: 4.5,
		link: "https://www.888.pt/",
		accentTop: true,
	},
	{
		name: "Paddy Power",
		logo: "/bacanaplay-logo.png",
		offer:
			"Certificação SRIJ para máxima confiança\n" +
			"Transações blindadas com encriptação avançada\n" +
			"Assistência especializada sempre disponível",
		rating: 4.8,
		link: "https://www.888.pt/",
	},
	{
		name: "Betfair",
		logo: "/Betano-Logo.png",
		offer:
			"Certificação SRIJ para máxima confiança\n" +
			"Transações blindadas com encriptação avançada\n" +
			"Assistência especializada sempre disponível",
		rating: 4.7,
		link: "https://www.betano.pt/",
	},
];

/** Normalize ratings: if <=5, treat as /5 and convert to /10. */
const casinos = casinosRaw.map((c) => {
	const r = typeof c.rating === "string" ? parseFloat(c.rating) : c.rating;
	const rating10 = r <= 5 ? r * 2 : r; // e.g., 4.8 -> 9.6
	return { ...c, rating: rating10.toFixed(1) };
});
---

<BaseLayout title="Melhores Casinos Online em Portugal">
	<!-- HERO (full-bleed background) -->
	<section class="hero-bg" aria-labelledby="hero-heading">
		<div class="hero-inner">
			<h2 id="hero-heading" class="hero-title">
				Melhores Sites de Cassino Online
			</h2>

			<p class="hero-sub">
				Encontre e compare cassinos online licenciados em Portugal de
				forma simples e segura. Avaliamos apenas operadores autorizados
				pelo SRIJ para que você jogue com confiança, com pagamentos
				protegidos, jogos justos e suporte local.
			</p>

			<div class="cards">
				{casinos.map((c) => <CasinoCard {...c} />)}
			</div>
		</div>
	</section>

	<!-- CONTENT -->
	<ContentPanel title="Como Avaliamos os Cassinos em Destaque">
		<p class="lead">
			A nossa metodologia cobre critérios críticos para a sua segurança e
			experiência:
		</p>

		<!-- EXACT “1)” NUMBERING -->
		<ol class="num">
			<li>
				Licenciamento e conformidade: apenas operadores com licença SRIJ
				ativa e políticas de Jogo Responsável.
			</li>
			<li>
				Segurança e privacidade: encriptação TLS, proteção de dados e
				auditorias de integridade (RNG/retornos verificados).
			</li>
			<li>
				Variedade e qualidade: slots, jogos de mesa, casino ao vivo e
				fornecedores reconhecidos.
			</li>
			<li>
				Bónus e termos justos: requisitos de aposta claros, prazos
				honestos e regras sem letras miúdas.
			</li>
			<li>
				Pagamentos e levantamentos: métodos populares em Portugal, taxas
				baixas e processamento rápido.
			</li>
			<li>
				Suporte e experiência: atendimento em português, usabilidade no
				desktop/mobile e acessibilidade.
			</li>
		</ol>

		<h3 class="subhead">Por que escolher os nossos casinos</h3>
		<ul class="bul">
			<li>
				Licença SRIJ garantida: Jogue apenas em operadores regulados em
				Portugal.
			</li>
			<li>
				Pagamentos seguros: Multibanco, MB WAY, cartões e carteiras
				digitais com proteção extra.
			</li>
			<li>
				Jogo transparente: Termos claros, odds verificáveis e
				ferramentas de jogo responsável.
			</li>
		</ul>

		<!-- FAQ -->
		<h2 class="faq-title">FAQ</h2>
		<ul class="faq">
			<li>
				<span class="q"
					>Como faço para me registrar em um cassino online?</span
				>
				<p class="a">
					Basta escolher um operador licenciado, clicar em “Registar”,
					preencher os dados e validar a conta com documento de
					identidade conforme exigido pelo SRIJ.
				</p>
			</li>
			<li>
				<span class="q">Os cassinos apresentados são seguros?</span>
				<p class="a">
					Sim. Listamos apenas sites com licença SRIJ, encriptação
					atual e políticas de proteção ao jogador.
				</p>
			</li>
			<li>
				<span class="q"
					>Quais métodos de pagamento estão disponíveis?</span
				>
				<p class="a">
					Os mais comuns são Multibanco, MB WAY, transferência
					bancária, cartões Visa/Mastercard e carteiras digitais
					selecionadas.
				</p>
			</li>
			<li>
				<span class="q">Como funcionam os bónus de boas-vindas?</span>
				<p class="a">
					Cada casino tem regras próprias. Verifique requisitos de
					aposta, jogos válidos, prazos e limites antes de aceitar.
				</p>
			</li>
			<li>
				<span class="q">Posso jogar no telemóvel?</span>
				<p class="a">
					Sim. A maioria oferece site mobile otimizado e/ou app
					oficial com os mesmos recursos.
				</p>
			</li>
			<li>
				<span class="q">Como retiro meus ganhos?</span>
				<p class="a">
					Vá à área de “Levantamentos”, escolha o método, confirme o
					montante e conclua a verificação se necessário. O prazo
					varia por método e operador.
				</p>
			</li>
			<li>
				<span class="q">O jogo é legal em Portugal?</span>
				<p class="a">
					Sim, desde que no operador licenciado pelo SRIJ. Jogadores
					devem ter 18+ e cumprir as regras locais.
				</p>
			</li>
			<li>
				<span class="q"
					>O que faço se achar que estou a jogar em excesso?</span
				>
				<p class="a">
					Use limites de depósito, pausas ou autoexclusão e procure
					apoio nas organizações listadas no rodapé.
				</p>
			</li>
		</ul>

		<!-- Page-scoped styles just for this page content -->
		<style>
			/* Ensure consistent typography inside the panel */
			.content-panel .cp-body {
				font-family:
					"Helvetica Neue", Helvetica, Arial, system-ui, sans-serif;
				font-weight: 400;
				font-style: normal;
				font-size: 20px;
				line-height: 28px;
				letter-spacing: 0;
				text-align: start;
				color: #111827;
			}
			.lead {
				font-weight: 700;
				color: #111827;
				margin: 0 0 14px;
			}

			/* 1) numbering */
			.num {
				list-style: none;
				margin: 0 0 8px;
				padding: 0;
				counter-reset: item;
			}
			.num > li {
				position: relative;
				counter-increment: item;
				padding-left: 2.2rem;
				margin: 0 0 16px;
			}
			.num > li::before {
				content: counter(item) ")";
				position: absolute;
				left: 0;
				top: 0;
				width: 2rem;
				text-align: right;
				color: #0f172a;
				font:
					400 20px/28px "Helvetica Neue",
					Helvetica,
					Arial,
					system-ui,
					sans-serif;
			}

			/* subhead + simple bullets */
			.subhead {
				margin: 12px 0 8px;
				font-weight: 700;
				color: #2b2f33;
			}
			.bul {
				list-style: disc;
				margin: 6px 0 0 1.35rem;
				padding: 0;
			}
			.bul > li {
				margin: 0 0 12px;
			}
			.bul > li::marker {
				color: #2b2f33;
			}

			/* FAQ styles matching screenshot */
			.faq-title {
				margin: 18px 0 10px;
				padding-bottom: 10px;
				border-bottom: 1px solid #d9dde3;
				color: #16a34a;
				font-weight: 700;
				font-size: 28px;
				line-height: 28px;
				text-align: left;
			}
			.faq {
				list-style: none;
				margin: 0;
				padding: 0;
			}
			.faq > li {
				position: relative;
				padding-left: 26px;
				margin: 14px 0 18px;
			}
			.faq > li::before {
				content: "";
				position: absolute;
				left: 0;
				top: 0.7em;
				width: 10px;
				height: 10px;
				border-radius: 9999px;
				background: #16a34a;
			}
			.q {
				display: block;
				color: #16a34a;
				font-weight: 700;
				font-size: 20px;
				line-height: 28px;
				margin: 0 0 4px;
				text-align: left;
			}
			.a {
				margin: 0;
				color: #374151;
				font:
					400 20px/28px "Helvetica Neue",
					Helvetica,
					Arial,
					system-ui,
					sans-serif;
				letter-spacing: 0;
				text-align: justify;
			}

			@media (max-width: 900px) {
				.content-panel .cp-body {
					font-size: 18px;
					line-height: 26px;
				}
				.num > li::before,
				.q,
				.a {
					font-size: 18px;
					line-height: 26px;
					text-align: start;
				}
				.faq-title {
					font-size: 24px;
					line-height: 26px;
				}
			}

			/* HERO */
			.hero-bg {
				position: relative;
				width: 100vw;
				left: 50%;
				right: 50%;
				margin-left: -50vw;
				margin-right: -50vw;
				/* background: #0a0f12 url("/bg.png") no-repeat center top/cover; */
				padding: 20px 0 0;
				overflow: hidden;
			}
			/* .hero-bg::after {
				content: "";
				position: absolute;
				inset: 0;
				background: radial-gradient(
						ellipse at center,
						rgba(0, 0, 0, 0) 45%,
						rgba(0, 0, 0, 0.55) 100%
					),
					linear-gradient(
						to bottom,
						rgba(0, 0, 0, 0) 0%,
						rgba(0, 0, 0, 0.25) 100%
					);
				pointer-events: none;
			} */
			.hero-inner {
				position: relative;
				z-index: 1;
				max-width: 1120px;
				margin: 0 auto;
				padding: 0 16px;
				font-family:
					"Helvetica Neue", Helvetica, Arial, system-ui, sans-serif;
				letter-spacing: 0;
			}
			.hero-title {
				font-weight: 600;
				font-size: 44px;
				line-height: 1.25;
				color: #fff;
				margin: 0 0 16px;
				display: inline-block;
				padding-bottom: 10px;
				border-bottom: 2px solid #c10c0c;
			}
			.hero-sub {
				color: #f1f5f9;
				font-size: 22px;
				font-weight: 400;
				line-height: 1.55;
				margin: 0 0 28px;
			}
			.cards {
				display: flex;
				flex-direction: column;
				/* row-gap: 12px; */
			}

			@media (max-width: 900px) {
				.hero-title {
					font-size: 36px;
					border: 0;
				}
				.hero-sub {
					font-size: 20px;
					display: none;
				}
			}
		</style>
	</ContentPanel>
</BaseLayout>
